[gd_scene load_steps=31 format=3 uid="uid://cjxepc2jmm86d"]

[ext_resource type="Script" uid="uid://dstjiikb38jrb" path="res://characters/hero.gd" id="1_0cirb"]
[ext_resource type="Texture2D" uid="uid://b0jn76cc5slnq" path="res://assets/Hero/Hero/Hero spritesheet BLUE with shadow.png" id="1_jkqpk"]
[ext_resource type="Texture2D" uid="uid://dh7pt1cc4qhvi" path="res://assets/Hero/Hero/gun sprite YELLOW.png" id="3_t4k1q"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_0cirb"]
radius = 4.0
height = 20.0

[sub_resource type="Animation" id="Animation_hsbtt"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 0)]
}

[sub_resource type="Animation" id="Animation_g5iel"]
resource_name = "die"
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 5), Vector2i(1, 5), Vector2i(2, 5), Vector2i(3, 5), Vector2i(4, 5), Vector2i(5, 5), Vector2i(6, 5), Vector2i(7, 5), Vector2i(8, 5), Vector2i(9, 5)]
}

[sub_resource type="Animation" id="Animation_qdh66"]
resource_name = "down_move"
length = 0.8
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 2), Vector2i(1, 2), Vector2i(2, 2), Vector2i(3, 2), Vector2i(4, 2), Vector2i(5, 2), Vector2i(6, 2), Vector2i(7, 2)]
}

[sub_resource type="Animation" id="Animation_xpvg0"]
resource_name = "run"
length = 0.4
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 1), Vector2i(1, 1), Vector2i(2, 1), Vector2i(3, 1)]
}

[sub_resource type="Animation" id="Animation_2oi4w"]
resource_name = "hit"
length = 0.2
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [Vector2i(0, 4), Vector2i(1, 4)]
}

[sub_resource type="Animation" id="Animation_t4k1q"]
resource_name = "idlw"
length = 0.5
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 0), Vector2i(1, 0), Vector2i(2, 0), Vector2i(3, 0), Vector2i(4, 0)]
}

[sub_resource type="Animation" id="Animation_i8fah"]
resource_name = "up_move"
length = 0.8
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 3), Vector2i(1, 3), Vector2i(2, 3), Vector2i(3, 3), Vector2i(4, 3), Vector2i(5, 3), Vector2i(6, 3), Vector2i(7, 3)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7hvvg"]
_data = {
&"RESET": SubResource("Animation_hsbtt"),
&"die": SubResource("Animation_g5iel"),
&"down_move": SubResource("Animation_qdh66"),
&"h_move": SubResource("Animation_xpvg0"),
&"hit": SubResource("Animation_2oi4w"),
&"idle": SubResource("Animation_t4k1q"),
&"up_move": SubResource("Animation_i8fah")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_t4k1q"]
animation = &"up_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hsbtt"]
animation = &"down_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xpvg0"]
animation = &"h_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_i8fah"]
animation = &"h_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0cirb"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qdh66"]
animation = &"up_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7hvvg"]
animation = &"up_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kxgv8"]
animation = &"up_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_m6fh1"]
animation = &"up_move"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_qdh66"]
blend_point_0/node = SubResource("AnimationNodeAnimation_t4k1q")
blend_point_0/pos = Vector2(0, -1)
blend_point_1/node = SubResource("AnimationNodeAnimation_hsbtt")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_xpvg0")
blend_point_2/pos = Vector2(1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_i8fah")
blend_point_3/pos = Vector2(-1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_0cirb")
blend_point_4/pos = Vector2(0, 0)
blend_point_5/node = SubResource("AnimationNodeAnimation_qdh66")
blend_point_5/pos = Vector2(1, -1)
blend_point_6/node = SubResource("AnimationNodeAnimation_7hvvg")
blend_point_6/pos = Vector2(1, 1)
blend_point_7/node = SubResource("AnimationNodeAnimation_kxgv8")
blend_point_7/pos = Vector2(-1, 1)
blend_point_8/node = SubResource("AnimationNodeAnimation_m6fh1")
blend_point_8/pos = Vector2(-1, -1)
min_space = Vector2(-1.5, -1.5)
max_space = Vector2(1.5, 1.5)
sync = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2oi4w"]
animation = &"die"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_g5iel"]
animation = &"hit"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5fbi2"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s3cvl"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3d7up"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5pb8o"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t4k1q"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ayrau"]
states/BlendSpace2D/node = SubResource("AnimationNodeBlendSpace2D_qdh66")
states/BlendSpace2D/position = Vector2(505, 63)
states/Start/position = Vector2(261, 73)
states/die/node = SubResource("AnimationNodeAnimation_2oi4w")
states/die/position = Vector2(725, 129)
states/hit/node = SubResource("AnimationNodeAnimation_g5iel")
states/hit/position = Vector2(562, 152)
transitions = ["hit", "die", SubResource("AnimationNodeStateMachineTransition_5fbi2"), "die", "End", SubResource("AnimationNodeStateMachineTransition_s3cvl"), "BlendSpace2D", "hit", SubResource("AnimationNodeStateMachineTransition_3d7up"), "hit", "BlendSpace2D", SubResource("AnimationNodeStateMachineTransition_5pb8o"), "Start", "BlendSpace2D", SubResource("AnimationNodeStateMachineTransition_t4k1q")]
graph_offset = Vector2(-26, -10)

[node name="Hero" type="CharacterBody2D"]
script = ExtResource("1_0cirb")
bob_height = 0.3

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 2)
shape = SubResource("CapsuleShape2D_0cirb")

[node name="Body" type="Sprite2D" parent="."]
texture = ExtResource("1_jkqpk")
hframes = 10
vframes = 6

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_7hvvg")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_ayrau")
anim_player = NodePath("../AnimationPlayer")
parameters/BlendSpace2D/blend_position = Vector2(0.0031678677, -0.0067265034)

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(2.5, 2.5)

[node name="GunSpriteYellow" type="Sprite2D" parent="."]
position = Vector2(0, 1)
texture = ExtResource("3_t4k1q")
